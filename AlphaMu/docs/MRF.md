# MRFの内部仕様

## MRFの形式的定義

MRFとは`Z, S, Pi, Ci, R, Mi`(`i`は自然数)を用いて以下のように定義される文脈自由文法であり、
μ再帰関数をもとにしている。

```
1. (零関数) Expr ::= Z
2. (後者関数)Expr ::= S
3. (射影作用素)Expr ::= Pi (iは任意の自然数)
4. (合成作用素)Expr ::= Ci(Expr, Expr, ...,) (iは自然数でi個のargsを取る)
5. (原始再帰作用素)Expr ::= R(Expr, Expr)
6. (μ作用素)Expr ::= Mi(Expr) (iは任意の自然数)
```
MRFの例を挙げる

- `C2(S, S)`
- `C2(S, C2(S, Z))`
- `R(P1, C2(S, P3))`

# MRFの意味

MRFの言語は $\mathbb{N}^d \to \mathbb{N}$ 以下の意味を持つ
- `Z`: 引数を任意個取り、常にゼロを返す関数
- `S`: 1つの引数を取り、引数+1を返す関数
- `Pi (iは自然数)`: 引数を任意個とり、i番目の要素を返す関数
- `Ci (iは自然数)`: 引数を任意個とり、第2引数以降の関数の出力を第一引数が表す関数の入力に1つずつ入れた関数。
- `R`: 引数を2つとり、原始再帰法における底を第一引数、繰り返し部分を第二引数とする関数。
- `Mi (iは自然数)`: 引数を1つとり、引数の表す関数のi番目の引数以外を固定したとき、0を返すようなi番目の引数に入る最も小さい自然数を表す。

# 実装する機能

MRFの語が持つ値
- 語の木構造
- 語の表す自然数関数の引数の数

MRFに適用したい関数
- MRFが有効か調べる関数
- MRFからそれが表すpythonのCallable[int, int]関数を返す関数
- MRFから新たなMRFを生成する操作関数
- MRFの木構造をインデントを用いて標準出力する関数
- MRFの木構造を括弧を用いて標準出力する関数
- MRFの木構造の複雑さを表現するfloat値を返す関数


# 参考
- [μ再帰関数](https://ja.wikipedia.org/wiki/%CE%9C%E5%86%8D%E5%B8%B0%E9%96%A2%E6%95%B0)



