# StrictPRFの内部仕様

## `StrictPRFの形式的定義

PRFとは`Z, S, P^n_i, C_i, R`(`n`, `i`は自然数)を用いて以下のように定義される文脈自由文法であり、
原始再帰関数をもとにしている。

```
1. (零関数) Expr ::= Z
2. (後者関数) Expr ::= S
3. (射影作用素) Expr ::= P^n_i (n, iは任意の自然数)
4. (合成作用素) Expr ::= C_i(Expr, Expr, ...,) (iは自然数でi個のargsを取る)
5. (原始再帰作用素) Expr ::= R(Expr, Expr)
```
Prfの例を挙げる

- `C_2(S, S)`
- `C_2(S, C_2(S, Z))`
- `R(P_1, C_2(S, P^3_3))`

# PRFの意味

PRFの言語は $\mathbb{N}^d \to \mathbb{N}$ 以下の意味を持つ
- `Z`: 引数を任意個取り、常にゼロを返す関数
- `S`: 1つの引数を取り、引数+1を返す関数
- `P^j_i (j, iは自然数)`: 引数をj個数とり、i番目の要素を返す関数
- `C_i (iは自然数)`: 引数を任意個とり、第2引数以降の関数の出力を第一引数が表す関数の入力に1つずつ入れた関数。
- `R`: 引数を2つとり、原始再帰法における底を第一引数、繰り返し部分を第二引数とする関数。

# 実装する機能

Prfの語が持つ値
- 語の木構造
- 語の表す自然数関数の引数の数

Prfに適用したい関数
- Prfが有効か調べる関数
- Prfからそれが表すpythonのCallable[int, int]関数を返す関数
- Prfから新たなPrfを生成する操作関数
- Prfの木構造をインデントを用いて標準出力する関数
- Prfの木構造を括弧を用いて標準出力する関数
- Prfの木構造の複雑さを表現するfloat値を返す関数


# 参考
- [原始再帰関数wikipe](https://ja.wikipedia.org/wiki/%E5%8E%9F%E5%A7%8B%E5%86%8D%E5%B8%B0%E9%96%A2%E6%95%B0)



